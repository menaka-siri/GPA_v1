<!DOCTYPE html>
<!-- Admin Profile Page --> 
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Administrator Dashboard in GPA v1.0">
    <meta name="author" content="MnS | Web Solutions">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Administrator | Profile </title>

    <!-- Bootstrap CSS -->    
    <link href="{{asset('css/bootstrap.min.css')}}" rel="stylesheet">
    
    <!-- bootstrap theme -->
    <link href="{{asset('css/bootstrap-theme.css')}}" rel="stylesheet">
    
    <!--external css-->
    <!-- font icon -->
    <link href="{{asset('css/elegant-icons-style.css')}}" rel="stylesheet" />
    <link href="{{asset('css/font-awesome.min.css')}}" rel="stylesheet" />    

    <!-- Custom styles -->
    <link href="{{asset('css/style.css')}}" rel="stylesheet">
    <link href="{{asset('css/style-responsive.css')}}" rel="stylesheet" />	
    <link href="{{ asset('css/jquery-ui-1.10.4.min.css') }}" rel="stylesheet">

  </head>

  <body>
  <!-- container section start -->
  <section id="container" class="">
     
      
      <header class="header dark-bg">
            <div class="toggle-nav">
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            <!--logo start-->
            <a href="index.html" class="logo"><h4><strong>GPA v1.0<span class="lite"> &nbsp;&nbsp;&nbsp;&nbsp;  Grade Performance Analyzer</strong></h4></span></a>
            <!--logo end-->


            <div class="top-nav notification-row">                
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">
                    
                    <!-- task notificatoin start -->
                    <li id="task_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="icon-task-l"></i>
                        </a>

                    </li>
                    <!-- task notificatoin end -->
                    
                    <!-- inbox notificatoin start-->
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="icon-envelope-l"></i>
                        </a>
                    </li>
                    <!-- inbox notificatoin end -->
                    
                    <!-- alert notification start-->
                    <li id="alert_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="icon-bell-l"></i>
                        </a>
                    </li>
                    <!-- alert notification end-->
                    
                    
                    <!-- user login dropdown start-->
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="profile-ava">
                                <img alt="" src="{{asset('img/chat-avatar2.jpg') }}">
                            </span>
                            <span class="username"><strong>{{name}}</strong></span>
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu extended logout">
                            <div class="log-arrow-up"></div>
                            <li class="eborder-top">
                                <a href="#"><i class="icon_mail_alt"></i> Notifications</a>
                            </li>
                            <li>
                                <a href="{{path('gpa_logout')}}"><i class="icon_key_alt"></i> Log Out</a>
                            </li>
                        </ul>
                    </li>
                    <!-- user login dropdown end -->
                    
                </ul>
                <!-- notificatoin dropdown end-->
                
            </div>          
      </header>      
      <!--header end-->

      
      
      <!--sidebar start-->
      <aside>
          <div id="sidebar"  class="nav-collapse " style="width: 195px;">
              <!-- sidebar menu start-->
              <ul class="sidebar-menu">                
                  <li class="active">
                      <a class="" href="{{path('admin_dashboard')}}">
                          <i class="icon_house_alt"></i>
                          <span>Dashboard</span>
                      </a>
                  </li>
     
                  <li>
                      <a class="" href="{{path('admin_profile')}}">
                          <i class="icon_profile"></i>
                          <span>Profile</span>
                      </a>
                  </li>
                  
                  <li class="sub-menu">                     
                      <a class="" href="javascript:;">
                          <i class="icon_piechart"></i>
                          <span>Manage Users</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="{{path('admin_view_users')}}">Add Users</a></li> 
                          <li><a class="" href="{{path('admin_view_users')}}">View Users</a></li>                          
                          <li><a class="" href="{{path('admin_register_users')}}">Register Users</a></li>
                      </ul>
                                         
                  </li>
                             
                  <li class="sub-menu">
                      <a class="" href="javascript:;">
                          <i class="icon_table"></i>
                          <span>Manage Courses</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="">Add Course</a></li>                          
                          <li><a class="" href="">View Courses</a></li>
                      </ul>
                  </li>
                  
                  <li class="sub-menu">
                      <a class="" href="javascript:;">
                          <i class="icon_datareport"></i>
                          <span>Course Enrolments</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="">Add New Enrolment</a></li>  
                          <li><a class="" href="l">View Enrolments</a></li>                          
                      </ul> 
                  </li>
                  
                  <li class="sub-menu">
                      <a class="" href="javascript:;">
                          <i class="icon_datareport"></i>
                          <span>Manage Results</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="">Add New Result</a></li>  
                          <li><a class="" href="">View Results</a></li>                          
                      </ul> 
                  </li>
                  
              </ul>
              <!-- sidebar menu end-->
          </div>
      </aside>
      <!--sidebar end-->
      
      
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper" style="margin-left: 10px;">
		  <div class="row">
				<div class="col-lg-9">
                                    <h3 class="page-header"><i class="fa fa-user-md"></i>User Profile &nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp; <strong>{{indexNum}}</strong> &nbsp;&nbsp;&nbsp; 
                                        {% if userDetails.getProfession == '0' %} Staff
                                        {% elseif userDetails.getProfession == '1' %} Lecturer
                                        {% elseif userDetails.getProfession == '2' %} Student
                                        {% endif %}
                                    </h3>
                                        <ol class="breadcrumb">
						<li><i class="fa fa-home"></i><a href="index.html">Home</a></li>
						<li><i class="fa fa-user"></i>Manage Users</li>
                                                <li><i class="fa fa-user"></i>View Users</li>
                                                <li><i class="fa fa-user"></i>View Profile</li>						  	
					</ol>
				</div>
			</div>

              <!-- page start-->
              <div class="row">
                 <div class="col-lg-9">
                    <section class="panel">
                          <header class="panel-heading tab-bg-info">
                              <ul class="nav nav-tabs">
                                  {%if flag1 or flag2 or flag3 or flag4 %}<li class="">
                                  {% else %}<li class="active">
                                  {%endif%}
                                  
                                      <a data-toggle="tab" href="#profile">
                                          <i class="icon-user"></i>
                                          Current Details
                                      </a>
                                  </li>
                                  
                                  {%if flag4 or flag5 %}<li class="active">
                                  {% else %}<li class="">
                                  {%endif%}
                                      <a data-toggle="tab" href="#edit-profile">
                                          <i class="icon-envelope"></i>
                                          Edit Profile
                                      </a>
                                  </li>
                                  
                                  {%if flag1 or flag2 or flag3 %}<li class="active">
                                  {% else %}<li class="">
                                  {%endif%}
                                      <a data-toggle="tab" href="#change-password">
                                          <i class="icon-envelope"></i>
                                          Change Password
                                      </a>
                                  </li>
                              </ul>
                          </header>
                          <div class="panel-body">
                              <div class="tab-content">
                                  
                                  <!-- profile -->
                                  {%if flag1 or flag2 or flag3 or flag4 or flag5%}<div id="profile" class="tab-pane">
                                  {% else %}<div id="profile" class="tab-pane active">
                                  {%endif%}
                                    <section class="panel" style="width:700px;">
                                      <div class="panel-body bio-graph-info" style="max-width: 600px;">
                                          <div class="col-lg-12"><h1>Bio Graph</h1></div>
                                          <div class="col-lg-6" style="padding:8px;">Profile Picture</div>
                                          <div class="col-lg-3" style="background-color: gray; height:120px; width:120px; padding:0px;">
                                              <!-- image size = 131.944px * 120px -->
                                            <img alt="" src="{{asset('img/chat-avatar2.jpg')}}" style="height:inherit;">
                                          </div>
                                          <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th></th>
                                                    <th></th>
                                                </tr>
                                            </thead>

                                            <tbody>

                                            <tr>
                                                <td>User ID</td>
                                                <td>{{userDetails.getId()}}</td>
                                            </tr>

                                            <tr>
                                                <td>First Name</td>
                                                <td>{{userDetails.getFirstName()}}</td>
                                            </tr>

                                            <tr>
                                                <td>Last Name</td>
                                                <td>{{userDetails.getLastName()}}</td>
                                            </tr>

                                            <tr>
                                                <td>Email</td>
                                                <td>{{userDetails.getEmail()}}</td>
                                            </tr>

                                            <tr>
                                                <td>Mobile</td>
                                                <td>{{userDetails.getMobile()}}</td>
                                            </tr>

                                            <tr>
                                                <td>Department</td>
                                                <td>{{userDetails.getDepartment()}}</td>
                                            </tr>

                                            <tr>
                                                <td>Profession</td>
                                                <td>{% if userDetails.getProfession() == '0' %} Staff
                                                    {% elseif userDetails.getProfession() == '1' %} Lecturer
                                                    {% elseif userDetails.getProfession() == '2' %} Student
                                                    {% else %}
                                                        Error in Profession! Please contact Admin
                                                    {% endif %}
                                                </td>
                                            </tr>

                                            </tbody>
                            
                                         </table> 
                                      </div>
                                    </section>
                                      <section>
                                          <div class="row">                                              
                                          </div>
                                      </section>
                                  </div>
                                  <!-- edit-profile -->
                                  {%if flag4 or flag5 %}
                                      <div id="edit-profile" class="tab-pane active">
                                  {% else %}
                                      <div id="edit-profile" class="tab-pane">
                                  {%endif%}
                                    <section class="panel">                                          
                                          <div class="panel-body bio-graph-info" style="max-width: 600px;">
                                              <h1> Profile Info</h1>
                                              {%if flag4%}<div class="alert alert-danger col-lg-9" role="alert">Your Profile Details are NOT CHANGED successfully!!!<br>Please contact Admin</div>{%endif%}
                                              {%if flag5%}<div class="alert alert-success col-lg-9" role="alert">Your Profile Details are changed successfully.</div>{%endif%}
                                              <form class="form-horizontal col-lg-12" role="form" method="POST" action="{{path('admin_user_profile_change_details',{'indexNum':indexNum})}}">                                                  
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">First Name</label>
                                                      <div class="col-lg-6">
                                                          <input type="text" class="form-control" id="firstName"  name="firstName" value="{{userDetails.getFirstName()}}" required>
                                                      </div>
                                                  </div>
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Last Name</label>
                                                      <div class="col-lg-6">
                                                          <input type="text" class="form-control" id="lastName"  name="lastName" value="{{userDetails.getLastName()}}" required>
                                                      </div>
                                                  </div>
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Email</label>
                                                      <div class="col-lg-6">
                                                          <input type="email" class="form-control" id="email"  name="email" value="{{userDetails.getEmail()}}" required>
                                                      </div>
                                                  </div>
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Mobile</label>
                                                      <div class="col-lg-6">
                                                          <input type="text" class="form-control" id="mobile"  name="mobile" value="{{userDetails.getMobile()}}" required>
                                                      </div>
                                                  </div>
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Department</label>
                                                      <div class="col-lg-6">
                                                          <select class="form-control" name="department" id="department" required>
                                                                {#<option value='' disabled selected style='display:none;'>Department</option>#}
                                                                {% if userDetails.getDepartment() == 'CHEMICAL' %} <option value='CHEMICAL' selected >CHEMICAL</option>
                                                                {% else %} <option value='CHEMICAL'>CHEMICAL</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'CIVIL' %} <option value='CIVIL' selected >CIVIL</option>
                                                                {% else %} <option value='CIVIL'>CIVIL</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'CSE' %} <option value='CSE' selected >CSE</option>
                                                                {% else %} <option value='CSE'>CSE</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'ENTC' %} <option value='ENTC' selected >ENTC</option>
                                                                {% else %} <option value='ENTC'>ENTC</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'ELECTRICAL' %} <option value='ELECTRICAL' selected >ELECTRICAL</option>
                                                                {% else %} <option value='ELECTRICAL'>ELECTRICAL</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'MATERIALS' %} <option value='MATERIALS' selected >MATERIALS</option>
                                                                {% else %} <option value='MATERIALS'>MATERIALS</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'MECHANICAL' %} <option value='MECHANICAL' selected >MECHANICAL</option>
                                                                {% else %} <option value='MECHANICAL'>MECHANICAL</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'TEXTILE' %} <option value='TEXTILE' selected >TEXTILE</option>
                                                                {% else %} <option value='TEXTILE'>TEXTILE</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'TLM' %} <option value='TLM' selected >TLM</option>
                                                                {% else %} <option value='TLM'>TLM</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'EARTH_RESOURCE' %} <option value='EARTH_RESOURCE' selected >EARTH_RESOURCE</option>
                                                                {% else %} <option value='EARTH_RESOURCE'>EARTH_RESOURCE</option>
                                                                {% endif %}
                                                                {% if userDetails.getDepartment() == 'ADMIN' %} <option value='ADMIN' selected >ADMIN</option>
                                                                {% else %} <option value='ADMIN'>ADMIN</option>
                                                                {% endif %}
                                                           </select>
                                                      </div>
                                                  </div>
                                                           
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Change Profile Picture</label>
                                                      <div class="col-lg-6">
                                                          <input type="file" name="profPic" id="profPic"  accept="image/*">
                                                      </div>
                                                  </div>
                                                  
                                                  <div class="form-group">
                                                      <div class="col-lg-offset-7 col-lg-10">
                                                          <button type="submit" class="btn btn-primary">Save</button>
                                                          <button type="button" class="btn btn-danger">Cancel</button>
                                                      </div>
                                                  </div>
                                              </form>
                                          </div>
                                      </section>
                                  </div>
                                  
                                  <!-- change password -->
                                  {%if flag1 or flag2 or flag3 %}
                                      <div id="change-password" class="tab-pane active">
                                  {% else %}
                                      <div id="change-password" class="tab-pane">
                                  {%endif%}
                                    <section class="panel">
                                          <div class="panel-body bio-graph-info" style="max-width: 600px;">
                                              <h1> Change Password</h1>
                                                {%if flag1%}<div class="alert alert-danger col-lg-6" role="alert">Old Password entered is INCORRECT!!!</div>{%endif%}
                                                {%if flag2%}<div class="alert alert-danger col-lg-6" role="alert">New Password and Re-entered New Password fields are NOT matching!!!</div>{%endif%}
                                                {%if flag3%}<div class="alert alert-success col-lg-6" role="alert">Your Password is changed successfully.</div>{%endif%}
                                              <form class="form-horizontal col-lg-12" role="form" method="POST" action="{{path('admin_user_profile_change_password',{'indexNum':indexNum})}}">                                                
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Old Password</label>
                                                      <div class="col-lg-6">
                                                          <input type="password" class="form-control" id="oldPassword" name="oldPassword" required>
                                                      </div>
                                                  </div>
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">New Password</label>
                                                      <div class="col-lg-6">
                                                          <input type="password" class="form-control" id="newPassword" name="newPassword" required>
                                                      </div>
                                                  </div>
                                                  <div class="form-group">
                                                      <label class="col-lg-4 control-label">Re-type New Password</label>
                                                      <div class="col-lg-6">
                                                          <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                                                      </div>
                                                  </div>
                                                  
                                                  <!-- validating the re-entered password -->
                                                    <script>
                                                        var password = document.getElementById("newPassword"), confirm_password = document.getElementById("confirmPassword");

                                                        function validatePassword(){
                                                          if(newPassword.value != confirmPassword.value) {
                                                            confirm_password.setCustomValidity("New Passwords Don't Match");
                                                          } else {
                                                            confirm_password.setCustomValidity('');
                                                          }
                                                        }

                                                        password.onchange = validatePassword;
                                                        confirm_password.onkeyup = validatePassword;
                                                    </script>
                                                  
                                                  <div class="form-group">
                                                      <div class="col-lg-offset-7 col-lg-10">
                                                          <button type="submit" class="btn btn-primary">Save</button>
                                                          <button type="button" class="btn btn-danger">Cancel</button>
                                                      </div>
                                                  </div>
                                              </form>
                                          </div>
                                      </section>
                                  </div>
                              </div>
                          </div>
                      </section>
                 </div>
              </div>

              <!-- page end-->
          </section>
      </section>
      <!--main content end-->
  </section>
  <!-- container section end -->
  
    <!-- javascripts -->
    <script src="{{asset('js/jquery.js')}}"></script>
    <script src="{{asset('js/bootstrap.min.js')}}"></script>

    <!-- disableing options in #department select -->
    <script>
       $(document).ready(function(){
           //$("p:not(:contains('1'))")
           $("#department option:not(:contains('ADMIN'))").attr("disabled","disabled");
        });
    </script>
    
    <!-- nice scroll -->
    <script src="{{asset('js/jquery.scrollTo.min.js')}}"></script>
    <script src="{{asset('js/jquery.nicescroll.js')}}" type="text/javascript"></script>
    
    <!--custome script for all page-->
    <script src="{{asset('js/scripts.js')}}"></script>


  </body>
</html>
